<!DOCTYPE HTML> <html itemscope="" xmlns="http://www.w3.org/1999/xhtml"><head><title>ClusterRelabel</title><meta content="refpage" name="chunktype"><meta content="function:ClusterRelabel" itemprop="refentity" name="refentity"><meta content="text/javascript" http-equiv="Content-Script-Type"><meta content="fcn" itemprop="pagetype" name="toctype"><meta content="ref/function" itemprop="infotype" name="infotype" /><meta content="ClusterRelabel enables to control the labels of the clusters which contain predefined units." itemprop="description" name="description" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /><script type="text/x-mathjax-config">MathJax.Hub.Config({extensions: ["tex2jax.js"],jax: ["input/TeX","output/HTML-CSS"],menuSettings: {zoom: "Double-Click", zscale: "300"},tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},MathMenu: {showRenderer: false},"HTML-CSS": {availableFonts: ["TeX"],preferredFont: "TeX",imageFont: null}});</script><script type="text/javascript" src="includesFS/Mathjax/MathJax.js"></script><script src="includesFS/matlab-highlighter.min.js"></script><link href="includesFS/matlab-highlighter.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="includesFS/jquery-latest.js"></script><script>$(document).ready(function(){      $("#divtop").load("includesFS/top.html");      $("#divbottom").load("includesFS/bottom.html");});</script><link href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/site6.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)"></link><link href="../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)"></link><link href="../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)"></link><link href="../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)"></link><link href="../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)"></link><link href="../includes/product/css/site6_offcanvas.css" rel="stylesheet" type="text/css"></link><script src="../includes/shared/scripts/l10n.js" type="text/javascript"></script><script src="../includes/product/scripts/docscripts.js"></script><script src="../includes/shared/scripts/docscripts_rn.js"></script><script src="../includes/shared/scripts/mw.imageanimation.js" type="text/javascript"></script><script src="../includes/shared/scripts/jquery.highlight.js"></script><script src="../includes/product/scripts/bootstrap.min.js" type="text/javascript"></script><script src="../includes/product/scripts/global.js"></script><script src="includesFS/bottom.js" type="text/javascript"></script><script src="../includes/product/scripts/underscore-min.js"></script><script src="../includes/shared/scripts/f1help.js" type="text/javascript"></script><script src="../includes/product/scripts/suggest.js" type="text/javascript"></script><script src="../includes/shared/scripts/helpservices.js" type="text/javascript"></script><script src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script><!-- the following line should be kept this way only --><link href="includesFS/doc_center.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css"><link href="../includes/product/css/doc_center_print.css" media="print" rel="stylesheet" type="text/css"></head><body  onload="highlightMATLABCode();" id="responsive_offcanvas">  <div id="doc_header_spacer" class="header"></div><div class="sticky_header_container includes_subnav"><div class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-xs-12 col-sm-6 col-sm-push-6 col-md-5 col-md-push-7" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2017a" data-language="en" action="../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"><div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="col-sm-6 col-sm-pull-6 col-md-7 col-md-pull-5" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../documentation-center.html">Documentation</a></h1></div></div></div><div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div><!--END.CLASS row--> </div><!--END.CLASS container-fluid--> </div><!--END.CLASS section_header level_3--><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Toggle navigation</span><span class="icon-menu icon_24"></span></button><span class="offcanvas_actuator_label"></span><span class="offcanvas_actuator_close"></span> </div><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-md-12 hidden-xs hidden-sm"></div></div></div></div></div></div></div><!--END.CLASS sticky_header_container--><div class="row-offcanvas row-offcanvas-left"><div id="sidebar" class="sidebar-offcanvas" role="navigation"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" xmlns:atict="http://www.arbortext.com/namespace/atict"><li itemprop="breadcrumb" itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb"> <a href="../documentation-center.html" itemprop="url"> <span itemprop="title">All Products</span></a></li></ul><ul class="nav_disambiguation" xmlns:atict="http://www.arbortext.com/namespace/atict"><li class="product"><a href="index.html">Flexible Statistics and Data Analysis (FSDA)</a><div class="dropdown"> <span id="dropdownMenu1" class="icon-arrow-down icon_16" data-toggle="dropdown"> </span><ul aria-labelledby="dropdownMenu1" class="dropdown-menu dropdown-menu-right" role="menu"><li role="presentation"> <a href="examples.html" role="menuitem" tabindex="-1">Examples</a></li><li role="presentation"> <a href="function-alpha.html" role="menuitem" tabindex="-1"> Functions and Other Reference</a></li><li role="presentation"> <a href="release_notes.html?s_cid=doc_flyout" role="menuitem" tabindex="-1"> Release Notes</a></li><li role="presentation"> <a href="tutorials.html" role="menuitem" tabindex="-1"> Tutorials</a></li></ul></div></li></ul><ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_disambiguation"> <li><a href="index.html">Flexible Statistics and Data Analysis Toolbox</a> </li> <li><a href="function-cate.html" itemprop="url">Functions</a></li></ul><!-- --><ul class="nav_scrollspy nav" xmlns:atict="http://www.arbortext.com/namespace/atict">  <li class="nav_scrollspy_function"> <a href="#responsive_offcanvas">ClusterRelabel</a></li> <li id="SSPY810-refentry" class="nav_scrollspy_title">On this page</li><li><a class="intrnllnk" href="#syntax">Syntax</a></li><li><a class="intrnllnk" href="#Description">Description</a></li><li><a class="intrnllnk" href="#Examples">Examples</a><ul><li><a class="intrnllnk" href="#Example_1">Start with labelling produced by tclustIC and produce consistent labels.</a></li><li><a class="intrnllnk" href="#Example_2">Example with detailed description of output element OldAndNewIndexes.</a></li></ul></li><li><a class="intrnllnk" href="#Inputs">Input Arguments</a><ul><li><a class="intrnllnk" href="#input_argument_IDX">IDX</a></li><li><a class="intrnllnk" href="#input_argument_pivotunits">pivotunits</a></li></ul></li><li><a class="intrnllnk" href="#OutputArgs">Output Arguments</a><ul><li><a class="intrnllnk" href="#output_argument_IDXrelabelled">IDXrelabelled</a></li><li><a class="intrnllnk" href="#output_argument_idxMapping">idxMapping</a></li></ul></li><li><a class="intrnllnk" href="#References">References</a></li><li><a class="intrnllnk" href="#SeeAlso">See Also</a></li></ul></nav><script src="../includes/product/scripts/offcanvas.js"></script></div><div id="divtop"></div><div class="site_container site_toc_closed"><div class="page_container"><div class="content_frame"><div id="content_container" class="content_container"><section id="doc_center_content"><div class="function_ref"><div itemprop="content"><h1 itemprop="title">ClusterRelabel</h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">ClusterRelabel enables to control the labels of the clusters which contain predefined units</p><div class="switch"><a id="expandAllPage" href="javascript:void(0);">expand all in page</a></div></div></div></div><div class="ref_sect"><h2 id="syntax">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><ul><li><code class="synopsis">IDXrelabelled=ClusterRelabel(IDX,pivotunits)</code><span class="syntax_example"><a class="intrnllnk" href="ClusterRelabel.html#Example_1">example</a></span></li><li><code class="synopsis">[IDXrelabelled, idxMapping]=ClusterRelabel(___)</code><span class="syntax_example"><a class="intrnllnk" href="ClusterRelabel.html#Example_2">example</a></span></li></ul></div></div></div>	<div class="ref_sect" itemprop="content">							<h2 id="Description">Description</h2>							<div class="descriptions">								<div class="description_module"><div class="description_element">	<p class="syntax_example">	<a class="intrnllnk" href="ClusterRelabel.html#Example_1">	example</a></p>	<p><span itemprop="syntax"><code><a class="intrnllnk" href="#outputarg_IDXrelabelled"><code>IDXrelabelled</code></a>=ClusterRelabel(<a class="intrnllnk" href="#inputarg_IDX"><code>IDX</code></a>,<a class="intrnllnk" href="#inputarg_pivotunits"><code>pivotunits</code></a>)</code></span>Start with labelling produced by tclustIC and produce consistent labels.</p></div><div class="description_element">	<p class="syntax_example">	<a class="intrnllnk" href="ClusterRelabel.html#Example_2">	example</a></p>	<p><span itemprop="syntax"><code>[<a class="intrnllnk" href="#outputarg_IDXrelabelled"><code>IDXrelabelled</code></a>,<a class="intrnllnk" href="#outputarg_idxMapping"><code> idxMapping</code></a>]=ClusterRelabel(___)</code></span>Example with detailed description of output element OldAndNewIndexes.</p></div>								</div>							</div>							<div class="clear">							</div>						</div><div class="ref_sect" itemprop="content"><div class="examples"><h2 id="Examples">Examples</h2><div id="expandableExamples" class="expandableContent"><p class="switch"><a class="expandAllLink"href="javascript:void(0);">expand all</a></p><div id="example_1" class="example_module expandableContent"><div id="Example_1"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"> <li>Start with labelling produced by tclustIC and produce consistent labels.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">Y=load('geyser2.txt');
% A small number of subsamples just to show whow the procedure works.
nsamp=10;
out=tclustIC(Y,'cleanpool',false,'plots',1,'nsamp',10,'whichIC','CLACLA')
% Make sure that units [23 54] are whenever possible respectively in
% cluster 1 and 2
UnitsSameGroup=[23 54];
IDXCLAnew=ClusterRelabel(out.IDXCLA,UnitsSameGroup);</pre></div></div></p></div></div><div id="example_2" class="example_module expandableContent"><div id="Example_2"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"> <li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Example with detailed description of output element OldAndNewIndexes.</li></span></a></span></h3><div class="collapse"><p>
     Random seed to be example ro replicate the results. <div class="programlisting"><div class="codeinput"><pre class="matlab-code">rng(1000)
Y=load('geyser2.txt');
k=3;
[out]=tclust(Y,k,0.10,10);
% Make sure that group which contains
% unit 10 is always labelled with number 1. Similarly,
% make sure that the group which contains unit 12 is always labelled
% with number 2, 
UnitsSameGroup=[10;12];
[idxnew, OldNewIndexes]=ClusterRelabel({out.idx}, UnitsSameGroup);
% In this case OldNewIndexes is equal to 
% 3 1 
% 3 2 
% It means that in the first iteration labels 1 and 3 have swapped
% while in the second iteration label 3 and 2 have swapped
subplot(1,2,1)
gscatter(Y(:,1),Y(:,2),out.idx)
text(Y(UnitsSameGroup,1),Y(UnitsSameGroup,2),num2str(UnitsSameGroup))
subplot(1,2,2)
gscatter(Y(:,1),Y(:,2),idxnew{:})
text(Y(UnitsSameGroup,1),Y(UnitsSameGroup,2),num2str(UnitsSameGroup))
% Now (as is evident from the right panel) unit which contains group 10
% has label '1' while group which contains unit 12 has label '2'.</pre></div></div><pre class="codeoutput">ClaLik with untrimmed units selected using crisp criterion
Total estimated time to complete tclust:  1.81 seconds 
</pre><a href='http://rosa.unipr.it/fsda/ClusterRelabel.html#Example_2'><img vspace="5" hspace="5" src="images\ClusterRelabel_01.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website). Graphical output could not be included in the installation file because toolboxes cannot be greater than 20MB. To load locally the image files, download zip file http://rosa.unipr.it/fsda/images.zip and unzip it to <tt>(docroot)/FSDA/images</tt> or simply run routine <tt>downloadGraphicalOutput.m</tt>"> </a></p></div></div></div><p> </p></div></div></div><div class="ref_sect" itemprop="content"><h2 id="Inputs">Input Arguments</h2><div class="expandableContent"><div class="arguments"><div class="input_argument_container"><p class="switch"><a class="expandAllLink" href="javascript:void(0);">expand all</a></p><div class="expandableContent"> <div id="inputarg_IDX" class="clearfix"> </div> <h3 id="input_argument_IDX" class="expand"> <span> <a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"> <span class="argument_name"><code>IDX</code> &#8212; Assignment of units to groups for different values of c
                   (restriction factor) and k (number of groups). </span>  </a><span class="example_desc">Cell.</span></span></h3> <div class="collapse"> <p><p>Cell of size length(kk)-times length(cc), where kk is
                   the vector which contains the number of groups which
                   have been considered and cc is the vector which
                   contains the values of the restriction factor.  Each
                   element of the cell is a vector of length n containing
                   the assignment number of each unit using a particular
                   classification model.</p> <p>
                 </p></p> <p class="datatypelist"><strong> Data Types: </strong><code> cell</code></p> </div> </div><div class="expandableContent"> <div id="inputarg_pivotunits" class="clearfix"> </div> <h3 id="input_argument_pivotunits" class="expand"> <span> <a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"> <span class="argument_name"><code>pivotunits</code> &#8212; list of the units which must (whenever possible)
                   have the same label. </span>  </a><span class="example_desc">Numeric vector.</span></span></h3> <div class="collapse"> <p><p>For example if
                   pivotunits=[20 26], means that group which contains
                   unit 20 is always labelled with number 1. Similarly,
                   the group which contains unit 26 is always labelled
                   with number 2, (unless it is found that unit 26 already
                   belongs to group 1). In general, group which contains
                   unit UnitsSameGroup(r) where r=2, ...length(kk)-1 is
                   labelled with number r (unless it is found that unit
                   UnitsSameGroup(r) has already been assigned to groups
                   1, 2, ..., r-1).</p> <p>
                 </p></p> <p class="datatypelist"><strong> Data Types: </strong><code> integer vector</code></p> </div> </div></div></div></div></div><div class="ref_sect" itemprop="content"><h2 id="OutputArgs" >Output Arguments</h2><div class="expandableContent"><div class="arguments"><div class="output_argument_container"><p class="switch"><a class="expandAllLink" href="javascript:void(0);">expand all</a></p><div class="expandableContent"><div id="outputarg_IDXrelabelled" class="clearfix"></div><h3 id="output_argument_IDXrelabelled" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>IDXrelabelled</code> &#8212;cell with the same size as input cell IDX and with
                   the same meaning of input cell IDX but with consistent
                   labels.</span></a><span class="example_desc">Cell</span></span></h3><div class="collapse"><p> Group which contains unit
                   UnitsSameGroup(1)  is labelled with number 1. In
                   general. Group which contains UnitsSameGroup(r) where
                   r=2, ...length(kk)-1 is labelled with number r (unless
                   it is found that unit UnitsSameGroup(r) has already
                   been assigned to groups 1, 2, ..., r-1).</p></div></div><div class="expandableContent"><div id="outputarg_idxMapping" class="clearfix"></div><h3 id="output_argument_idxMapping" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>idxMapping</code> &#8212;indexes of the permutations associated with IDX{1,1}.</span></a><span class="example_desc"><code> 
                       r-by-2 </code>matrix</span></span></h3><div class="collapse"><p> 
                       Matrix of size r-by-2 which keeps track of all the
                       permutations which have been done. For example if 
                       idxMapping is equal to  [3, 1; 3, 2],
                       it means that in the first iteration labels 1 and 3
                       have swapped, while in the second iteration label 3
                       and 2 have swapped. If no swapping was necessary
                       idxMapping is empty.</p></div></div></div></div></div></div><div class="ref_sect" itemprop="content"><div class="bibliography"><h2 id="References">References</h2> <div><p>Cerioli, A., Garcia-Escudero, L.A., Mayo-Iscar, A. and Riani M. (2017),
 Finding the Number of Groups in Model-Based Clustering via Constrained
 Likelihoods, "Journal of Computational and Graphical Statistics", pp. 404-416, 
 <a href="https://doi.org/10.1080/10618600.2017.1390469">https://doi.org/10.1080/10618600.2017.1390469</a></p></div></div></div><div class="ref_sect"><h2 id="SeeAlso">See Also</h2><p><span itemprop="seealso"><a href="tclustIC.html" itemprop="url"><span itemprop="name"><code>tclustIC</code></span></a></span> | <span itemprop="seealso"><a href="tclustICplot.html" itemprop="url"><span itemprop="name"><code>tclustICplot</code></span></a></span></div><i>This page has been automatically generated by our routine <a href="publishFS.html">publishFS</a></i></div></section></div></div></div></div><div id="divbottom"></div></body></html>